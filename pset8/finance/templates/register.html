{% extends 'layout.html' %}

{% block title %} LogIn or Register {% endblock %}

{% block main %}
    <h5> Register a new account </h5>
    <hr>
    <form action='/register' method='POST'>
        <div class="form-group">
            <label for="username"> username: </label>
            <input id='username' class='form-control' name='username' placeholder="username" type='text' autofocus required />
        </div>
        <hr>
        <div class="form-group">
            <p> password should be at least 8 characters long with one number and one letter </p>
            <label for="password"> password: </label>
            <input id='password' class='form-control' name='password' placeholder="password" type='password' required />
        </div>
        <hr>
        <div class="form-group">
            <label for="confirm-password"> confirmation: </label>
            <input id='confirm-password' class='form-control' name='confirm-password' placeholder="confirm-password" type='password' required />
        </div>
        <hr>
        <button class='btn btn-primary' type='submit' id='submit'> Register </button>
    </form>
    <br>
    <h6> Already have an account? Click here to <a href="/login"> Login </a></h6>

    <script>
        document.querySelector('#submit').disabled = true;
        document.querySelector('#password').onkeyup = () => {
            let psd = document.querySelector('#password').value;
            if (psd.length > 7 && psd.match(/\d/) && psd.match(/[a-z]/i) && psd.match(/^[0-9a-z]+$/i)) {
                document.querySelector('#submit').disabled = false;
            } else {
                document.querySelector('#submit').disabled = true;
            }
        }
    </script>
{% endblock %}